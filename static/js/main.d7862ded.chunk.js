(this.webpackJsonptvland=this.webpackJsonptvland||[]).push([[0],{107:function(e,a,t){},109:function(e,a,t){},110:function(e,a,t){},129:function(e,a,t){},130:function(e,a,t){},131:function(e,a,t){},132:function(e,a,t){},133:function(e,a,t){},134:function(e,a,t){},135:function(e,a,t){"use strict";t.r(a);var s,n=t(0),o=t.n(n),i=t(17),r=t.n(i),l=(t(68),t(4)),c=t(5),d=t(6),m=t(7),h=t(8),p=(t(69),t(21)),u=t(22),g=t(61),E=t(15),w={showDetail:[],isLoadingShowDetail:!0,showList:[],isLoadingShowList:!0},S={showDetail:[],isLoadingShowDetail:!0,episodeList:[],isLoadingEpisodeList:!0,selectedSeason:1},L={episodeDetail:[],isLoadingEpisodeDetail:!0,selectedSeason:1},f=Object(u.c)({homePage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"GET_SHOWDETAIL":return Object(E.a)({},e,{showDetail:a.payload,isLoadingShowDetail:!1});case"GET_SHOWLIST":return Object(E.a)({},e,{showList:a.payload,isLoadingShowList:!1});default:return e}},showPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"GET_SHOWDETAIL":return Object(E.a)({},e,{showDetail:a.payload,isLoadingShowDetail:!1});case"GET_EPISODELIST":return Object(E.a)({},e,{episodeList:a.payload,isLoadingEpisodeList:!1,selectedSeason:1});case"CHANGE_SEASON":return Object(E.a)({},e,{selectedSeason:a.payload});default:return e}},episodePage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"GET_EPISODEDETAILBYID":return Object(E.a)({},e,{episodeDetail:a.payload,isLoadingEpisodeDetail:!1});case"CHANGE_SEASON":return Object(E.a)({},e,{selectedSeason:a.payload});default:return e}}}),_=[g.a],v=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||u.d,y=(s={},Object(u.e)(f,s,v(u.a.apply(void 0,_)))),D=t(11),N=t(23),b=(t(74),t(25)),O=t.n(b),I=(t(107),t(24)),j=t.n(I),P=function(e){var a=e.isLoading,t=e.show,s=new Date(t.premiered).getFullYear();return o.a.createElement("section",{className:"FeaturedShow"},a?o.a.createElement(o.a.Fragment,null,"Loading"):o.a.createElement(o.a.Fragment,null,o.a.createElement(D.b,{to:"/shows/".concat(t.id)},void 0===t.image?o.a.createElement("img",{src:j.a,alt:t.name,className:"FeaturedShow__image"}):o.a.createElement("img",{src:t.image.original,alt:t.name,className:"FeaturedShow__image"})),o.a.createElement("div",{className:"FeaturedShow__details"},o.a.createElement("h2",{className:"h1"},t.name),o.a.createElement("div",{className:"FeaturedShow__additional-info"},o.a.createElement("span",{className:"FeaturedShow__date"},s),o.a.createElement("span",{className:"FeaturedShow__genres"},t.genres.join(", "))),o.a.createElement("div",{className:"FeaturedShow__summary",dangerouslySetInnerHTML:{__html:O()(t.summary,{allowedTags:["p"],allowedAttributes:{}})}}),o.a.createElement(D.b,{to:"/shows/".concat(t.id),className:"FeaturedShow__link"},"More Infos"))))},T=t(18),k=(t(109),t(110),function(e){var a=e.showId,t=e.showName,s=e.showImage;return o.a.createElement("article",{className:"ShowTeaserCard"},o.a.createElement(D.b,{to:"/shows/".concat(a),key:a,className:"ShowTeaserCard__link"},o.a.createElement("img",{src:s,alt:t,className:"ShowTeaserCard__card"}),o.a.createElement("div",{className:"ShowTeaserCard__title"},t)))}),C=function(e){var a=e.isLoading,t=e.showList;return o.a.createElement("section",{className:"ShowList"},o.a.createElement("h2",null,"Shows"),o.a.createElement("div",{className:"ShowList__grid"},a?o.a.createElement(o.a.Fragment,null,Object(T.a)(Array(6)).map((function(e,a){return o.a.createElement(k,{key:a,showId:a,showName:"Show",showImage:j.a})}))):o.a.createElement(o.a.Fragment,null,t.map((function(e,a){return void 0===e.image?o.a.createElement(k,{showId:e.id,showName:e.name,key:a,showImage:j.a}):o.a.createElement(k,{showId:e.id,showName:e.name,key:a,showImage:e.image.medium})})),")} }")))},A=t(26),F=t.n(A),H=function(e){return function(a){F.a.get("https://api.tvmaze.com/shows/".concat(e)).then((function(e){a({type:"GET_SHOWDETAIL",payload:e.data})})).catch((function(e){return console.log(e)}))}},G=function(e){function a(){return Object(l.a)(this,a),Object(d.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(h.a)(a,e),Object(c.a)(a,[{key:"componentDidMount",value:function(){this.props.getShowDetail(6771),0===this.props.showList.length&&this.props.getShowList()}},{key:"render",value:function(){var e=this.props,a=e.isLoadingShowDetail,t=e.showDetail,s=e.isLoadingShowList,n=e.showList;return o.a.createElement("div",{className:"HomePage"},o.a.createElement("div",{className:"HomePage__featured"},o.a.createElement(P,{isLoading:a,show:t})),o.a.createElement("div",{className:"HomePage__show-list"},o.a.createElement(C,{isLoading:s,showList:n})))}}]),a}(o.a.Component),B=Object(p.b)((function(e){return{isLoadingShowDetail:e.homePage.isLoadingShowDetail,isLoadingShowList:e.homePage.isLoadingShowList,showDetail:e.homePage.showDetail,showList:e.homePage.showList}}),{getShowDetail:H,getShowList:function(){return function(e){F.a.get("https://api.tvmaze.com/shows?page=1").then((function(a){e({type:"GET_SHOWLIST",payload:a.data})})).catch((function(e){return console.log(e)}))}}})(G),M=(t(129),t(34)),x=function(e){return function(a){F.a.get("https://api.tvmaze.com/shows/".concat(e,"/episodes")).then((function(e){a({type:"GET_EPISODELIST",payload:e.data})})).catch((function(e){return console.log(e)}))}},W=t(33),z=t.n(W),V=function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(d.a)(this,Object(m.a)(a).call(this,e))).state={hasError:!1},t}return Object(h.a)(a,e),Object(c.a)(a,[{key:"componentDidCatch",value:function(e,a){}},{key:"render",value:function(){return this.state.hasError?o.a.createElement("h1",null,"Something went wrong."):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),a}(o.a.Component),Y=(t(130),function(e){var a=e.isLoading,t=e.show;return o.a.createElement("section",{className:"ShowDetail"},a?o.a.createElement(o.a.Fragment,null,"Loading"):o.a.createElement(o.a.Fragment,null,o.a.createElement("img",{src:t.image.original,alt:t.name,className:"ShowDetail__image"}),o.a.createElement("div",{className:"ShowDetail__details"},o.a.createElement("h2",{className:"h1"},t.name),o.a.createElement("div",{className:"ShowDetail__summary",dangerouslySetInnerHTML:{__html:O()(t.summary,{allowedTags:["p"],allowedAttributes:{}})}}))))}),J=(t(131),function(e){var a=e.showId,t=e.id,s=e.name,n=(e.season,e.number);return o.a.createElement(D.b,{to:"/shows/".concat(a,"/episodes/").concat(t),className:"EpisodeTeaserCard"},o.a.createElement("article",{className:"EpisodeTeaserCard__card"},o.a.createElement("div",{className:"EpisodeTeaserCard__title"},o.a.createElement("strong",null,n,". ",s),o.a.createElement("p",null))))}),U=(t(132),function(e){var a=e.isLoading,t=e.episodeList,s=e.showId;return o.a.createElement("section",{className:"EpisodeList"},o.a.createElement("div",{className:"EpisodeList__grid"},a?o.a.createElement(o.a.Fragment,null,"loading"):o.a.createElement(o.a.Fragment,null,t.map((function(e,a){return o.a.createElement(J,{key:a,showId:s,id:e.id,name:e.name,season:e.season,number:e.number})})))))}),X=function(e){function a(){var e,t;Object(l.a)(this,a);for(var s=arguments.length,n=new Array(s),o=0;o<s;o++)n[o]=arguments[o];return(t=Object(d.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(n)))).handleSeasonChange=function(e){t.props.changeSeason(e.value)},t}return Object(h.a)(a,e),Object(c.a)(a,[{key:"getSeasonsList",value:function(){return Object(T.a)(new Set(this.props.episodeList.map((function(e){return e.season}))))}},{key:"filterEpisodesBySeason",value:function(){var e=this;return this.props.episodeList.filter((function(a){return a.season===e.props.selectedSeason}))}},{key:"componentDidMount",value:function(){var e=this.props.match.params.showId;0===this.props.showDetail.length?(this.props.getShowDetail(e),this.props.getEpisodeList(e)):e!==this.props.showDetail.id&&(this.props.getShowDetail(e),this.props.getEpisodeList(e))}},{key:"render",value:function(){var e=this.props,a=e.isLoadingShowDetail,t=e.isLoadingEpisodeList,s=e.showDetail,n=e.selectedSeason,i=this.props.match.params.showId,r=this.getSeasonsList().map((function(e,a){return{value:e,label:"Season "+e}}));return o.a.createElement("div",{className:"ShowPage"},o.a.createElement("div",{className:"ShowPage__details"},o.a.createElement("div",{className:"ShowPage__back-home"},o.a.createElement(D.b,{to:"/",className:""},o.a.createElement("img",{src:z.a,alt:"Home"}))),o.a.createElement(V,null,o.a.createElement(Y,{isLoading:a,show:s}))),o.a.createElement("div",{className:"ShowPage__episodes"},o.a.createElement("h2",{className:"sr-only"},"Episodes"),o.a.createElement(M.a,{defaultValue:{value:n,label:"Season ".concat(n)},onChange:this.handleSeasonChange,options:r,isSearchable:!1,className:"ShowPage__select-season"}),o.a.createElement(V,null,o.a.createElement(U,{isLoading:t,episodeList:this.filterEpisodesBySeason(),showId:i}))))}}]),a}(o.a.Component),R=Object(p.b)((function(e){return{isLoadingShowDetail:e.showPage.isLoadingShowDetail,isLoadingEpisodeList:e.showPage.isLoadingEpisodeList,showDetail:e.showPage.showDetail,episodeList:e.showPage.episodeList,selectedSeason:e.showPage.selectedSeason}}),{getShowDetail:H,getEpisodeList:x,changeSeason:function(e){return{type:"CHANGE_SEASON",payload:e}}})(X),$=(t(133),t(134),function(e){var a=e.isLoading,t=e.episode;return o.a.createElement("section",{className:"EpisodeDetail"},a?o.a.createElement(o.a.Fragment,null,"Loading"):o.a.createElement(o.a.Fragment,null,null===t.image?o.a.createElement("img",{src:j.a,alt:t.name,className:"EpisodeDetail__image"}):o.a.createElement("img",{src:t.image.original,alt:t.name,className:"EpisodeDetail__image"}),o.a.createElement("div",{className:"EpisodeDetail__details"},o.a.createElement("h2",{className:"h1"},t.name),null!==t.summary?o.a.createElement("div",{className:"EpisodeDetail__summary",dangerouslySetInnerHTML:{__html:O()(t.summary,{allowedTags:["p"],allowedAttributes:{}})}}):o.a.createElement("div",{className:"EpisodeDetail__summary"},"No summary."))))}),q=function(e){function a(){var e,t;Object(l.a)(this,a);for(var s=arguments.length,n=new Array(s),o=0;o<s;o++)n[o]=arguments[o];return(t=Object(d.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(n)))).handleSeasonChange=function(e){t.props.changeSeason(e.value)},t}return Object(h.a)(a,e),Object(c.a)(a,[{key:"getSeasonsList",value:function(){return Object(T.a)(new Set(this.props.episodeList.map((function(e){return e.season}))))}},{key:"filterEpisodesBySeason",value:function(){var e=this;return this.props.episodeList.filter((function(a){return a.season===e.props.selectedSeason}))}},{key:"componentDidMount",value:function(){var e=this.props.match.params,a=e.showId,t=e.episodeId;0===this.props.episodeDetail.length?(this.props.getEpisodeDetailById(t),this.props.getEpisodeList(a)):t!==this.props.episodeDetail.id&&(this.props.getEpisodeDetailById(t),this.props.getEpisodeList(a))}},{key:"componentDidUpdate",value:function(){var e=this.props.match.params.episodeId,a=this.props.episodeDetail.id;void 0!==a&&e!==a.toString()&&this.props.getEpisodeDetailById(e)}},{key:"render",value:function(){var e=this.props,a=e.isLoadingEpisodeDetail,t=e.isLoadingEpisodeList,s=e.episodeDetail,n=e.selectedSeason,i=this.props.match.params.showId,r=this.getSeasonsList().map((function(e,a){return{value:e,label:"Season "+e}}));return o.a.createElement("div",{className:"EpisodePage"},o.a.createElement("div",{className:"EpisodePage__details"},o.a.createElement("div",{className:"EpisodePage__back-show"},o.a.createElement(D.b,{to:"/shows/".concat(i),className:""},o.a.createElement("img",{src:z.a,alt:"Home"}))),o.a.createElement(V,null,o.a.createElement($,{isLoading:a,episode:s}))),o.a.createElement("div",{className:"EpisodePage__episodes"},o.a.createElement("h2",{className:"sr-only"},"Episodes"),o.a.createElement(M.a,{defaultValue:{value:n,label:"Season ".concat(n)},onChange:this.handleSeasonChange,options:r,isSearchable:!1,className:"ShowPage__select-season"}),o.a.createElement(V,null,o.a.createElement(U,{isLoading:t,episodeList:this.filterEpisodesBySeason(),showId:i}))))}}]),a}(o.a.Component),K=Object(p.b)((function(e){return{isLoadingEpisodeDetail:e.episodePage.isLoadingEpisodeDetail,episodeDetail:e.episodePage.episodeDetail,isLoadingEpisodeList:e.showPage.isLoadingEpisodeList,episodeList:e.showPage.episodeList,selectedSeason:e.episodePage.selectedSeason}}),{getEpisodeList:x,getEpisodeDetailById:function(e){return function(a){F.a.get("https://api.tvmaze.com/episodes/".concat(e)).then((function(e){a({type:"GET_EPISODEDETAILBYID",payload:e.data})})).catch((function(e){return console.log(e)}))}},changeSeason:function(e){return{type:"CHANGE_SEASON",payload:e}}})(q),Q=function(){return o.a.createElement("div",{className:"App__page-not-found"},o.a.createElement("h1",null,"404: Page Not Found"),o.a.createElement(D.b,{to:"/"},"Home"))},Z=function(e){function a(){return Object(l.a)(this,a),Object(d.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(h.a)(a,e),Object(c.a)(a,[{key:"render",value:function(){return o.a.createElement("main",{className:"App"},o.a.createElement("h1",{className:"sr-only"},"TV Show App"),o.a.createElement(p.a,{store:y},o.a.createElement(D.a,{basename:"/"},o.a.createElement(N.c,null,o.a.createElement(N.a,{path:"/",exact:!0,component:B}),o.a.createElement(N.a,{path:"/shows",exact:!0,component:B}),o.a.createElement(N.a,{path:"/shows/:showId",exact:!0,component:R}),o.a.createElement(N.a,{path:"/shows/:showId/episodes/:episodeId",exact:!0,component:K}),o.a.createElement(N.a,{path:"/shows/:showId/episodes",component:R}),o.a.createElement(N.a,{path:"/shows/:showId",component:R}),o.a.createElement(N.a,{component:Q})))))}}]),a}(o.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(V,null,o.a.createElement(Z,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},24:function(e,a,t){e.exports=t.p+"static/media/placeholder.75e2a7cd.jpg"},33:function(e,a,t){e.exports=t.p+"static/media/arrow-back.d6cf0c0e.svg"},63:function(e,a,t){e.exports=t(135)},68:function(e,a,t){},69:function(e,a,t){},74:function(e,a,t){},97:function(e,a){}},[[63,1,2]]]);
//# sourceMappingURL=main.d7862ded.chunk.js.map